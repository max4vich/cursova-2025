# ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ Aiven MySQL

–í–∏–∫–æ–Ω–∞–π—Ç–µ –≤—Å—ñ –∫—Ä–æ–∫–∏ –ü–û–°–õ–Ü–î–û–í–ù–û:

## üî¥ –ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–õ–ò–í–û: Firewall –≤ Aiven

**–Ø–∫—â–æ —Ü–µ–π –∫—Ä–æ–∫ –Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–æ, –Ω—ñ—â–æ —ñ–Ω—à–µ –Ω–µ —Å–ø—Ä–∞—Ü—é—î!**

1. ‚úÖ –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Aiven Console](https://console.aiven.io/)
2. ‚úÖ –û–±–µ—Ä—ñ—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. ‚úÖ –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à MySQL —Å–µ—Ä–≤—ñ—Å (`el3ctric-max777george-4f8c`)
4. ‚úÖ –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings** (–∞–±–æ **Security**)
5. ‚úÖ –ó–Ω–∞–π–¥—ñ—Ç—å **IP whitelist** –∞–±–æ **Allowed IP addresses**
6. ‚úÖ **–î–æ–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ: `0.0.0.0/0`** (—è–∫—â–æ –π–æ–≥–æ –Ω–µ–º–∞—î)
7. ‚úÖ –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏

**–ü–û–ß–ï–ö–ê–ô–¢–ï 1-2 —Ö–≤–∏–ª–∏–Ω–∏** –ø—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è, —â–æ–± –∑–º—ñ–Ω–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–ª–∏—Å—è.

---

## üî¥ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DATABASE_URL –Ω–∞ Vercel

1. ‚úÖ –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Vercel Dashboard](https://vercel.com/dashboard)
2. ‚úÖ –û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç `cursova-2025`
3. ‚úÖ –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings** ‚Üí **Environment Variables**
4. ‚úÖ –ó–Ω–∞–π–¥—ñ—Ç—å –∑–º—ñ–Ω–Ω—É `DATABASE_URL`
5. ‚úÖ –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–æ–Ω–∞ **–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è Production**
6. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç - –≤—ñ–Ω –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –æ–¥–Ω–∏–º –∑:

### –í–∞—Ä—ñ–∞–Ω—Ç 1 (—Å–ø—Ä–æ–±—É–π—Ç–µ —Å–ø–æ—á–∞—Ç–∫—É —Ü–µ–π):
```
mysql://avnadmin:–í–ê–®_–ü–ê–†–û–õ–¨@el3ctric-max777george-4f8c.l.aivencloud.com:16733/defaultdb?sslaccept=strict
```

### –í–∞—Ä—ñ–∞–Ω—Ç 2:
```
mysql://avnadmin:–í–ê–®_–ü–ê–†–û–õ–¨@el3ctric-max777george-4f8c.l.aivencloud.com:16733/defaultdb?sslmode=REQUIRED&connect_timeout=60
```

### –í–∞—Ä—ñ–∞–Ω—Ç 3:
```
mysql://avnadmin:–í–ê–®_–ü–ê–†–û–õ–¨@el3ctric-max777george-4f8c.l.aivencloud.com:16733/defaultdb?ssl-mode=REQUIRED&connect_timeout=60
```

**–í–ê–ñ–õ–ò–í–û:**
- –ó–∞–º—ñ–Ω—ñ—Ç—å `–í–ê–®_–ü–ê–†–û–õ–¨` –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å –∑ Aiven
- –ó–∞–º—ñ–Ω—ñ—Ç—å `defaultdb` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É –Ω–∞–∑–≤—É –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (—è–∫—â–æ –Ω–µ `defaultdb`)
- –ù–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–±—ñ–ª–∏ –∞–±–æ –ª–∞–ø–∫–∏ –Ω–∞–≤–∫–æ–ª–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ Vercel!

---

## üî¥ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö –≤ Aiven

1. ‚úÖ –í Aiven Console ‚Üí –≤–∞—à MySQL —Å–µ—Ä–≤—ñ—Å ‚Üí **Overview**
2. ‚úÖ –°–∫–æ–ø—ñ—é–π—Ç–µ **Connection URI** –∞–±–æ **Connection information**
3. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
   - ‚úÖ Username: `avnadmin` (–∞–±–æ —ñ–Ω—à–∏–π –∑ Aiven)
   - ‚úÖ Password: —Å–∫–æ–ø—ñ—é–π—Ç–µ –∑ Aiven (–º–æ–∂–ª–∏–≤–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ "Show password")
   - ‚úÖ Host: `el3ctric-max777george-4f8c.l.aivencloud.com`
   - ‚úÖ Port: `16733`
   - ‚úÖ Database name: –∑–∞–∑–≤–∏—á–∞–π `defaultdb` (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ Aiven)

---

## üî¥ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

1. ‚úÖ –í Aiven Console ‚Üí –≤–∞—à MySQL —Å–µ—Ä–≤—ñ—Å
2. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å - –º–∞—î –±—É—Ç–∏ **"RUNNING"** (–∑–µ–ª–µ–Ω–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä)
3. ‚úÖ –Ø–∫—â–æ —Å—Ç–∞—Ç—É—Å –Ω–µ "RUNNING", –∑–∞–ø—É—Å—Ç—ñ—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö

---

## üî¥ –ó—Ä–æ–±—ñ—Ç—å –Ω–æ–≤–∏–π deployment –Ω–∞ Vercel

**–ü—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –∑—Ä–æ–±—ñ—Ç—å –Ω–æ–≤–∏–π deployment!**

1. ‚úÖ –í Vercel Dashboard ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí **Deployments**
2. ‚úÖ –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Redeploy"** –Ω–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–º—É deployment
3. ‚úÖ –ê–ë–û –∑—Ä–æ–±—ñ—Ç—å commit –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ deployment
4. ‚úÖ –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è deployment

---

## üî¥ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–µ—Ä–µ–∑ health endpoint

–ü—ñ—Å–ª—è deployment:

1. ‚úÖ –í—ñ–¥–∫—Ä–∏–π—Ç–µ: `https://cursova-2025-backend.vercel.app/health-db`
2. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:

**–Ø–∫—â–æ –ø—Ä–∞—Ü—é—î:**
```json
{
  "status": "ok",
  "database": "connected",
  "hasDatabaseUrl": true
}
```

**–Ø–∫—â–æ –Ω–µ –ø—Ä–∞—Ü—é—î:**
```json
{
  "status": "error",
  "database": "disconnected",
  "error": "...",
  "hasDatabaseUrl": true/false
}
```

- –Ø–∫—â–æ `hasDatabaseUrl: false` ‚Üí `DATABASE_URL` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–∞ Vercel!
- –Ø–∫—â–æ `hasDatabaseUrl: true`, –∞–ª–µ –ø–æ–º–∏–ª–∫–∞ –≤—Å–µ —â–µ —î ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ Firewall –∞–±–æ —Ñ–æ—Ä–º–∞—Ç—ñ connection string

---

## üìù –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

### –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ Vercel:
1. Vercel Dashboard ‚Üí –ø—Ä–æ–µ–∫—Ç ‚Üí **Deployments** ‚Üí –æ—Å—Ç–∞–Ω–Ω—ñ–π deployment
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Functions** ‚Üí –∑–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à API
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—ñ –ø–æ–º–∏–ª–∫–∏

### –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ Aiven:
1. Aiven Console ‚Üí MySQL —Å–µ—Ä–≤—ñ—Å ‚Üí **Logs**
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —î —Å–ø—Ä–æ–±–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
3. –Ø–∫—â–æ —Å–ø—Ä–æ–± –Ω–µ–º–∞—î ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ Firewall
4. –Ø–∫—â–æ —Å–ø—Ä–æ–±–∏ —î, –∞–ª–µ –≤—ñ–¥—Ö–∏–ª—è—é—Ç—å—Å—è ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ credentials –∞–±–æ SSL

---

## ‚ö†Ô∏è –ù–∞–π—á–∞—Å—Ç—ñ—à—ñ –ø–æ–º–∏–ª–∫–∏

1. **Firewall –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π** ‚Üí –¥–æ–¥–∞–π—Ç–µ `0.0.0.0/0` –≤ IP whitelist
2. **DATABASE_URL –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–∞ Vercel** ‚Üí –¥–æ–¥–∞–π—Ç–µ –≤ Environment Variables
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç connection string** ‚Üí –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –æ–¥–∏–Ω –∑ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –≤–∏—â–µ
4. **–ù–µ –∑—Ä–æ–±–ª–µ–Ω–æ redeploy –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –∑–º—ñ–Ω–Ω–∏—Ö** ‚Üí –∑—Ä–æ–±—ñ—Ç—å –Ω–æ–≤–∏–π deployment
5. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å –∞–±–æ username** ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ Aiven Console

---

## üéØ –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤, –≤—ñ–¥–∫—Ä–∏–π—Ç–µ:
```
https://cursova-2025-backend.vercel.app/health-db
```

–Ø–∫—â–æ –±–∞—á–∏—Ç–µ `"database": "connected"` - –≤—Å–µ –ø—Ä–∞—Ü—é—î! ‚úÖ

–Ø–∫—â–æ –≤—Å–µ —â–µ –ø–æ–º–∏–ª–∫–∞ - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Ç–∞ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –≤—Å—ñ –∫—Ä–æ–∫–∏ —â–µ —Ä–∞–∑.

